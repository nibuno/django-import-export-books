{
  "url": "https://django-import-export.readthedocs.io/en/latest/api_resources.html",
  "title": "Resources — django-import-export 4.3.15.dev28 documentation",
  "content": "Resource defines how objects are mapped to their import and export representations and handle importing and exporting data.\n\nAn optional dict of kwargs. Subclasses can use kwargs to pass dynamic values to enhance import / exports.\n\nOverride to add additional logic. Does nothing by default.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\nqueryset – The queryset for export.\n\ndataset – A tablib.Dataset.\n\n**kwargs – Metadata which may be associated with the export.\n\nOverride to add additional logic. Does nothing by default.\n\ndataset – A tablib.Dataset.\n\nresult – A import_export.results.Result implementation containing a summary of the import.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\nrow – A dict containing key / value data for the row to be imported.\n\nrow_result – A RowResult instance. References the persisted instance as an attribute.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\ninstance – A new or existing model instance.\n\nnew – a boolean flag indicating whether instance is new or existing.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\nqueryset – The queryset for export.\n\n**kwargs – Metadata which may be associated with the export.\n\nOverride to add additional logic. Does nothing by default.\n\ndataset – A tablib.Dataset.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nOverride to add additional logic. Does nothing by default.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nCreates objects by calling bulk_create.\n\nDeletes objects by filtering on a list of instances to be deleted, then calling delete() on the entire queryset.\n\nUpdates objects by calling bulk_update.\n\nCalls instance.delete() as long as dry_run is not set. If use_bulk then instances are appended to a list for bulk import.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nA method specifically to provide a single overridable hook for the instance save operation. For example, this can be overridden to implement update_or_create().\n\ninstance – The model instance to be saved.\n\nis_create – A boolean flag to indicate whether this is a new object to be created, or an existing object to be updated.\n\nqueryset – The queryset for export (optional).\n\nOverride to filter an export queryset.\n\nqueryset – The queryset for export.\n\n**kwargs – Metadata which may be associated with the export.\n\nThe filtered queryset.\n\nReturns True if row importing should delete instance.\n\nDefault implementation returns False. Override this method to handle deletion.\n\nrow – A dict containing key / value data for the row to be imported.\n\ninstance – A new or existing model instance.\n\nReturns the fields to be included in calls to bulk_update(). import_id_fields are removed because id fields cannot be supplied to bulk_update().\n\nReturns the class used to display the diff for an imported instance.\n\nDiff representation headers.\n\nReturns the class used to store an error resulting from an import.\n\nReturns the field name for a given field.\n\nCalls the InstanceLoader.\n\nEither fetches an already existing instance or initializes a new one.\n\nReturns the class used to store the result of an import.\n\nReturns the class used to store the result of a row import.\n\nGet fields visible to users in export interface\n\nGet fields visible to users in admin interface.\n\nDeprecated since version 5: Use get_user_visible_import_fields() or get_user_visible_export_fields() instead for explicit context-aware field selection. This method will be removed in version 6.0.\n\nGet fields visible to users in import interface\n\nImports data from tablib.Dataset. Refer to Import workflow for a more complete description of the whole import process.\n\ndataset – A tablib.Dataset.\n\nraise_errors – Whether errors should be printed to the end user or raised regularly.\n\nuse_transactions – If True the import process will be processed inside a transaction.\n\ncollect_failed_rows – If True the import process will create a new dataset object comprising failed rows and errors. This can be useful for debugging purposes but will cause higher memory usage for larger datasets. See failed_dataset.\n\nrollback_on_validation_errors – If both use_transactions and rollback_on_validation_errors are set to True, the import process will be rolled back in case of ValidationError.\n\ndry_run – If dry_run is set, or an error occurs, if a transaction is being used, it will be rolled back.\n\n**kwargs – Metadata which may be associated with the import.\n\nHandles persistence of the field data.\n\nfield – A import_export.fields.Field instance.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\nis_m2m – A boolean value indicating whether or not this is a many-to-many field.\n\n**kwargs – See import_row()\n\nTraverses every field in this Resource and calls import_field(). If import_field() results in a ValueError being raised for one of more fields, those errors are captured and reraised as a single, multi-field ValidationError.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nImports data from tablib.Dataset. Refer to Import workflow for a more complete description of the whole import process.\n\nrow – A dict of the ‘row’ to import. A row is a dict of data fields so can be a csv line, a JSON object, a YAML object etc.\n\ninstance_loader – The instance loader to be used to load the model instance associated with the row (if there is one).\n\n**kwargs – See below.\n\ndry_run (boolean) – A True value means that no data should be persisted.\n\nuse_transactions (boolean) – A True value means that transactions will be rolled back.\n\nrow_number (int) – The index of the row being imported.\n\nInitializes an object. Implemented in import_export.resources.ModelResource.init_instance().\n\nTakes care of saving the object to the database.\n\nObjects can be created in bulk if use_bulk is enabled.\n\ninstance – The instance of the object to be persisted.\n\nis_create – A boolean flag to indicate whether this is a new object to be created, or an existing object to be updated.\n\nrow – A dict representing the import row.\n\n**kwargs – See :meth:`import_row\n\nModel instance need to have a primary key value before a many-to-many relationship can be used.\n\ninstance – A new or existing model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\n**kwargs – See import_row()\n\nReturns True if row importing should be skipped.\n\nDefault implementation returns False unless skip_unchanged == True and skip_diff == False.\n\nIf skip_diff is True, then no comparisons can be made because original will be None.\n\nWhen left unspecified, skip_diff and skip_unchanged both default to False, and rows are never skipped.\n\nBy default, rows are not skipped if validation errors have been detected during import. You can change this behavior and choose to ignore validation errors by overriding this method.\n\nOverride this method to handle skipping rows meeting certain conditions.\n\nUse super if you want to preserve default handling while overriding\n\ninstance – A new or updated model instance.\n\noriginal – The original persisted model instance.\n\nrow – A dict containing key / value data for the row to be imported.\n\nimport_validation_errors – A dict containing key / value data for any identified validation errors.\n\nTakes any validation errors that were raised by import_instance(), and combines them with validation errors raised by the instance’s full_clean() method. The combined errors are then re-raised as single, multi-field ValidationError.\n\nIf the clean_model_instances option is False, the instances’s full_clean() method is not called, and only the errors raised by import_instance() are re-raised.\n\nModelResource is Resource subclass for handling Django models.\n\nAn optional dict of kwargs. Subclasses can use kwargs to pass dynamic values to enhance import / exports.\n\nReset the SQL sequences after new objects are imported\n\nReturns a Resource Field instance for the given Django model field.\n\nPrepare widget for fk and o2o fields\n\nPrepare widget for m2m field\n\nReturns a queryset of all objects for this model. Override this if you want to limit the returned queryset.\n\nInitializes a new Django model.\n\nReturns the widget that would likely be associated with each Django type.\n\nIncludes mapping of Postgres Array field. In the case that psycopg2 is not installed, we consume the error and process the field regardless.\n\nReturns widget kwargs for given field_name.\n\nThe inner Meta class allows for class-level configuration of how the Resource should behave. The following options are available:\n\nThe batch_size parameter controls how many objects are created in a single query. The default is to create objects in batches of 1000. See bulk_create(). This parameter is only used if use_bulk is True.\n\nControls the chunk_size argument of Queryset.iterator or, if prefetch_related is used, the per_page attribute of Paginator.\n\nControls whether full_clean is called during the import process to identify potential validation errors for each (non skipped) row. The default value is False.\n\nControls what introspected fields the Resource should NOT include. A blacklist of fields.\n\nControls export order for columns.\n\nControls what introspected fields the Resource should include. A whitelist of fields.\n\nIf True, this parameter will prevent imports from checking the database for existing instances. Enabling this parameter is a performance enhancement if your import dataset is guaranteed to contain new instances.\n\nControls which object fields will be used to identify existing instances.\n\nControls import order for columns.\n\nControls which class instance will take care of loading existing objects.\n\nDjango Model class or full application label string. It is used to introspect available fields.\n\nControls if the result reports skipped rows. Default value is True.\n\nControls whether or not an instance should be diffed following import.\n\nBy default, an instance is copied prior to insert, update or delete. After each row is processed, the instance’s copy is diffed against the original, and the value stored in each RowResult. If diffing is not required, then disabling the diff operation by setting this value to True improves performance, because the copy and comparison operations are skipped for each row.\n\nIf enabled, then skip_row() checks do not execute, because ‘skip’ logic requires comparison between the stored and imported versions of a row.\n\nIf enabled, then HTML row reports are also not generated, meaning that the skip_html_diff value is ignored.\n\nThe default value is False.\n\nControls whether or not a HTML report is generated after each row. By default, the difference between a stored copy and an imported instance is generated in HTML form and stored in each RowResult.\n\nThe HTML report is used to present changes in the import confirmation page in the admin site, hence when this value is True, then changes will not be presented on the confirmation screen.\n\nIf the HTML report is not required, then setting this value to True improves performance, because the HTML generation is skipped for each row. This is a useful optimization when importing large datasets.\n\nThe default value is False.\n\nControls if the import should skip unchanged records. If True, then each existing instance is compared with the instance to be imported, and if there are no changes detected, the row is recorded as skipped, and no database update takes place.\n\nThe advantages of enabling this option are:\n\nAvoids unnecessary database operations which can result in performance improvements for large datasets.\n\nSkipped records are recorded in each RowResult.\n\nSkipped records are clearly visible in the import confirmation page.\n\nFor the default skip_unchanged logic to work, the skip_diff must also be False (which is the default):\n\nDefault value is False.\n\nIf True, the row instance will be stored in each RowResult. Enabling this parameter will increase the memory usage during import which should be considered when importing large datasets.\n\nThis value will always be set to True when importing via the Admin UI. This is so that appropriate LogEntry instances can be created.\n\nIf True, each row’s raw data will be stored in each RowResult. Enabling this parameter will increase the memory usage during import which should be considered when importing large datasets.\n\nControls whether import operations should be performed in bulk. By default, an object’s save() method is called for each row in a data set. When bulk is enabled, objects are saved using bulk operations.\n\nIf True, this value will be passed to all foreign key widget fields whose models support natural foreign keys. That is, the model has a natural_key function and the manager has a get_by_natural_key() function.\n\nControls if import should use database transactions. Default value is None meaning settings.IMPORT_EXPORT_USE_TRANSACTIONS will be evaluated.\n\nDB Connection name to use for db transactions. If not provided, router.db_for_write(model) will be evaluated and if it’s missing, DEFAULT_DB_ALIAS constant (“default”) is used.\n\nThis dictionary defines widget kwargs for fields.\n\nFactory for creating ModelResource class for given Django model. This factory function creates a ModelResource class dynamically, with support for custom fields, methods.\n\nmodel – Django model class\n\nresource_class – Base resource class (default: ModelResource)\n\nmeta_options – Meta options dictionary\n\ncustom_fields – Dictionary mapping field names to Field object\n\ndehydrate_methods – Dictionary mapping field names to dehydrate method (Callable)",
  "headings": [
    {
      "level": "h1",
      "text": "Resources",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Resource",
      "id": ""
    },
    {
      "level": "h2",
      "text": "ModelResource",
      "id": ""
    },
    {
      "level": "h2",
      "text": "ResourceOptions (Meta)",
      "id": ""
    },
    {
      "level": "h2",
      "text": "modelresource_factory",
      "id": ""
    }
  ],
  "code_samples": [],
  "patterns": [],
  "links": [
    "https://django-import-export.readthedocs.io/en/latest/index.html",
    "https://django-import-export.readthedocs.io/en/latest/installation.html",
    "https://django-import-export.readthedocs.io/en/latest/getting_started.html",
    "https://django-import-export.readthedocs.io/en/latest/advanced_usage.html",
    "https://django-import-export.readthedocs.io/en/latest/admin_integration.html",
    "https://django-import-export.readthedocs.io/en/latest/import_workflow.html",
    "https://django-import-export.readthedocs.io/en/latest/export_workflow.html",
    "https://django-import-export.readthedocs.io/en/latest/bulk_import.html",
    "https://django-import-export.readthedocs.io/en/latest/management_commands.html",
    "https://django-import-export.readthedocs.io/en/latest/celery.html",
    "https://django-import-export.readthedocs.io/en/latest/testing.html",
    "https://django-import-export.readthedocs.io/en/latest/faq.html",
    "https://django-import-export.readthedocs.io/en/latest/screenshots.html",
    "https://django-import-export.readthedocs.io/en/latest/release_notes.html",
    "https://django-import-export.readthedocs.io/en/latest/changelog.html",
    "https://django-import-export.readthedocs.io/en/latest/api_admin.html",
    "https://django-import-export.readthedocs.io/en/latest/api_resources.html",
    "https://django-import-export.readthedocs.io/en/latest/api_widgets.html",
    "https://django-import-export.readthedocs.io/en/latest/api_fields.html",
    "https://django-import-export.readthedocs.io/en/latest/api_instance_loaders.html",
    "https://django-import-export.readthedocs.io/en/latest/api_mixins.html",
    "https://django-import-export.readthedocs.io/en/latest/api_tmp_storages.html",
    "https://django-import-export.readthedocs.io/en/latest/api_results.html",
    "https://django-import-export.readthedocs.io/en/latest/api_forms.html",
    "https://django-import-export.readthedocs.io/en/latest/api_exceptions.html",
    "https://django-import-export.readthedocs.io/en/latest/contributing.html",
    "https://django-import-export.readthedocs.io/en/latest/_sources/api_resources.rst.txt"
  ]
}